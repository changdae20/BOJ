# [Platinum II] 약수 지우기 게임 2 - 12108 

[문제 링크](https://www.acmicpc.net/problem/12108) 

### 성능 요약

메모리: 35424 KB, 시간: 1952 ms

### 분류

다이나믹 프로그래밍, 비트마스킹, 게임 이론, 비트필드를 이용한 다이나믹 프로그래밍, 스프라그–그런디 정리

### 문제 설명

<p>A와 B가 약수 지우기 게임을 한다. 약수 지우기 게임은 두 사람이 즐기는 게임이다.</p>

<p>칠판에 여러 개의 자연수가 적혀 있다. 각 사람은 자신의 턴에 칠판에 적힌 자연수 하나를 지우고, 그 자연수의 약수 중 칠판에 남아 있는 수들을 모두 지운다. 예를 들어, 칠판에 2,3,4,5,6이 적혀 있을 때, 6을 지우면, 그 약수인 2와 3 역시 지워야 한다. 자신의 턴에 숫자를 지우지 않을 수는 없다. 마지막 숫자를 지우는 사람이 승리한다.</p>

<p>A와 B가 최적의 방법으로 게임을 하며, A가 게임을 먼저 시작할 때, 이기는 사람을 출력하고 싶겠지만, 문제를 어렵게 만들기 위한 출제자의 악랄한 의도에 따라, 게임을 변형하여 A가 처음에 지우는 수를 랜덤으로 정하기로 했다. 그러므로 A가 처음에 어떤 수를 가져가게 되는가에 따라 이기는 사람과, B가 이기기 위한 전략이 달라질 수 있다. 처음 지우는 수를 제외하고는 A와 B는 최적의 방법으로 게임을 한다.</p>

<p>각 경우에 대해 B가 이기기 위한 전략을 출력하면 된다.</p>

### 입력 

 <p>첫째 줄에 N이 주어진다. N은 30보다 작은 자연수이다.</p>

<p>둘째 줄에 칠판에 적힌 N개의 자연수 X<sub>i</sub>(<30)가 공백을 사이에 두고 오름차순으로 주어진다.</p>

### 출력 

 <p>N개의 줄에, (X<sub>i</sub>)를 출력하고, A가 처음에 X<sub>i</sub>를 지웠을 경우 B가 이기기 위해 지워야 하는 수를 공백을 사이에 두고 오름차순으로 모두 출력한다. 만약 B가 이길 수 없다면 A를 출력한다. 예제 출력을 참고하라.</p>

